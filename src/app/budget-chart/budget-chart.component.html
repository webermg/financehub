<h1>Budget Charts</h1>
<table class="table" *ngIf="items.length">
  <thead>
    <th>Date</th>
    <th>Category</th>
    <th>SubCategory</th>
    <th>Amount</th>
  </thead>
  <tbody>
    <tr *ngFor="let item of items">
      <td><input *ngIf="selected===item.id" class="form-control" type="date" [(ngModel)]="item.date"/>{{selected === item.id ? "" : item.date}}</td>
      <td><select *ngIf="selected===item.id" class="form-select" [(ngModel)]="item.category">
        <option *ngFor="let category of categories" value = {{category}}>{{category}}</option>
      </select>{{selected === item.id ? "" : item.category}}</td>
      <td><select *ngIf="selected===item.id && item.category && subcategories[item.category].length" class="form-select" [(ngModel)]="item.subcategory">
        <option *ngFor="let subcategory of subcategories[item.category]" value = {{subcategory}}>{{subcategory}}</option>
      </select>{{selected === item.id ? "" : item.subcategory}}</td>
      <td><input *ngIf="selected===item.id" type="number" class="form-control" [(ngModel)]="item.amount"/>{{selected === item.id ? "" : item.amount}}</td>
    </tr>
  </tbody>
</table>
<a routerLink="/budget"><p>back to budget page</p></a>
